<h2><a href="https://www.geeksforgeeks.org/problems/minimum-cost-to-merge-stones/1?timeMachineDate=2025-11-14">Minimum Cost to Merge Stones</a></h2><h3>Difficulty Level : Difficulty: Hard</h3><hr><div class="problems_problem_content__Xm_eO"><p><span style="font-size: 18px;"><span style="font-size: 18px;">Given an array <strong>stones[]</strong>, where the i<sup>th</sup> element represents the number of stones in the i<sup>th</sup> pile.</span><br><span style="font-size: 18px;">In one move, you can <strong>merge </strong>exactly <strong>k</strong> consecutive piles into a single pile, and the cost of this move is equal to the total number of stones in these k piles.<br></span></span><span style="font-size: 18px;">Determine the <strong>minimum total cost </strong>required to merge all the piles into one single pile. </span><span style="font-size: 18px;">If it is not possible to merge all piles into one according to the given rules, return <strong>-1</strong>.</span></p>
<p><strong><span style="font-size: 18px;">Examples:</span></strong></p>
<pre style="background: #eeeeee; border: 1px solid #cccccc; padding: 5px 10px; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #222426; --darkreader-inline-border-top: #3e4446; --darkreader-inline-border-right: #3e4446; --darkreader-inline-border-bottom: #3e4446; --darkreader-inline-border-left: #3e4446;"><span style="font-size: 18px;"><strong style="font-size: 18px;">Input: </strong><span style="font-size: 18px;">stones[] = [1, 2, 3], k = 2<br></span><strong style="font-size: 18px;">Output: </strong><span style="font-size: 18px;">9<br></span><strong style="font-size: 18px;">Explanation:&nbsp;</strong><span style="font-size: 18px;">Initially the array looks like [1, 2, 3].<br>First, we merge first 2 stones, i.e., 1 and 2, array becomes [3, 3] and cost is 1 + 2 = 3.
Then, we merge remaining stones, i.e., 3 and 3, array becomes [6] and the cost = 3 + 3 = 6.
Total cost = 3 + 6 = 9.</span></span></pre>
<pre style="background: #eeeeee; border: 1px solid #cccccc; padding: 5px 10px; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #222426; --darkreader-inline-border-top: #3e4446; --darkreader-inline-border-right: #3e4446; --darkreader-inline-border-bottom: #3e4446; --darkreader-inline-border-left: #3e4446;"><span style="font-size: 18px;"><strong style="font-size: 18px;">Input: </strong><span style="font-size: 18px;">stones[] = [1, 5, 3, 2, 4], k = 2<br></span><strong style="font-size: 18px;">Output:</strong><span style="font-size: 18px;"> 35<br></span><strong style="font-size: 18px;">Explanation:</strong><span style="font-size: 18px;"> Initially the array looks like [1, 5, 3, 2, 4].<br>First, we merge 1 and 5, array becomes [6, 3, 2, 4] and cost is 1 + 5 = 6.
Then, we merge 3 and 2, array becomes [6, 5, 4] and the cost = 3 + 2 = 5.
Then, we merge 5 and 4, array becomes [6, 9] and the cost = 5 + 4 = 9.
Finally, we merge 6 and 9, array becomes [15] and the cost = 6 + 9 = 15.<br>Total cost = 6 + 5 + 9 + 15 = 35.</span></span></pre>
<pre style="background: #eeeeee; border: 1px solid #cccccc; padding: 5px 10px; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #222426; --darkreader-inline-border-top: #3e4446; --darkreader-inline-border-right: #3e4446; --darkreader-inline-border-bottom: #3e4446; --darkreader-inline-border-left: #3e4446;"><strong style="font-size: 18px;">Input: </strong><span style="font-size: 18px;">stones[] = [1, 5, 3, 2, 4], k = 4<br></span><strong style="font-size: 18px;">Output:</strong><span style="font-size: 18px;"> -1<br></span><strong style="font-size: 18px;">Explanation:</strong><span style="font-size: 18px;"> </span><span style="font-size: 18px;">There is no possible way to combine the stones in piles of 4 to get 1 stone in the end.</span></pre>
<p><span style="font-size: 18px;"><strong>Constraints:</strong><br>1 ≤ stones.size() ≤ 30<br>2 ≤ k ≤ 30<br>1 ≤ stones</span><span style="font-size: 18px;">[i] </span><span style="font-size: 18px;">≤ 100</span></p></div><br><p><span style=font-size:18px><strong>Topic Tags : </strong><br><code>Dynamic Programming</code>&nbsp;<code>Algorithms</code>&nbsp;